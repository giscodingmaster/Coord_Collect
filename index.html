    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBZByigYzVFczxSpLnhxbHMZURWfQCjpW8",
            authDomain: "coord-collect.firebaseapp.com",
            databaseURL: "https://coord-collect-default-rtdb.firebaseio.com",
            projectId: "coord-collect",
            storageBucket: "coord-collect.firebasestorage.app",
            messagingSenderId: "694407331617",
            appId: "1:694407331617:web:6c3e3f90ba82c465cac860",
            measurementId: "G-Y0K8C4YBWV"
        };
        
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        const recordsRef = database.ref('records');
        
        let records = [];
        let editingId = null;
        
        // Load records from Firebase
        function loadRecords() {
            recordsRef.on('value', (snapshot) => {
                records = [];
                snapshot.forEach((childSnapshot) => {
                    records.push({
                        id: childSnapshot.key,
                        ...childSnapshot.val()
                    });
                });
                // Sort by timestamp (newest first)
                records.sort((a, b) => {
                    const timeA = a.timestampMs || 0;
                    const timeB = b.timestampMs || 0;
                    return timeB - timeA;
                });
                updateDisplay();
            }, (error) => {
                showAlert('خطأ في تحميل البيانات: ' + error.message, 'error');
            });
        }
        
        // Save record to Firebase
        function saveRecord(record) {
            if (editingId) {
                // Update existing record
                recordsRef.child(editingId).update(record)
                    .then(() => {
                        showAlert('تم التحديث بنجاح', 'success');
                        editingId = null;
                    })
                    .catch((error) => {
                        showAlert('خطأ في التحديث: ' + error.message, 'error');
                    });
            } else {
                // Add new record
                recordsRef.push(record)
                    .then(() => {
                        showAlert('تمت الإضافة بنجاح', 'success');
                    })
                    .catch((error) => {
                        showAlert('خطأ في الإضافة: ' + error.message, 'error');
                    });
            }
        }
        
        // Delete record from Firebase
        function deleteRecordFromDB(id) {
            recordsRef.child(id).remove()
                .then(() => {
                    showAlert('تم الحذف', 'success');
                })
                .catch((error) => {
                    showAlert('خطأ في الحذف: ' + error.message, 'error');
                });
        }
        
        // Clear all records from Firebase
        function clearAllFromDB() {
            recordsRef.remove()
                .then(() => {
                    showAlert('تم مسح الكل', 'success');
                })
                .catch((error) => {
                    showAlert('خطأ في المسح: ' + error.message, 'error');
                });
        }
